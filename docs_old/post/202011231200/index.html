<!DOCTYPE html><head><title>python 简明教程 - 兴趣使然的无名小站</title><meta name="description" content=""><script src="/bundle.js" onload="[].flat||(location='/update.html')"></script></head><main><article><h1>python 简明教程</h1><h1 id="综述">综述</h1><p>根据SICP，一门语言有以下模式：</p><ul><li><p><b>primitive expressions</b>, which represent the simplest entities the language is concerned with,</p></li><li><p><b>means of combination</b>, by which compound elements are built from simpler ones, and</p></li><li><p><b>means of abstraction</b>, by which compound elements can be named and manipulated as units.</p></li></ul><p>在Python中，可以分为Lexical Analysis对应抽象方法（程序的骨架）、Data Model与Execution Model对应元标识符（程序的数据结构）、其他对应程序的算法。唯有Lexical Analysis是Python的特质。这里是Python的核心内容。这篇文章会夹杂一些文字，但是一定点到为止。</p><h1 id="lexical-analysis">Lexical Analysis</h1><blockquote><p>A Python program is read by a parser. Input to the parser is a stream of tokens, generated by the lexical analyzer.</p></blockquote><h2 id="line-structure">Line Structure</h2><p>Python使用<b>行结构</b>。</p><h1 id="class-and-object">Class And Object</h1><blockquote><p>“被命名的类，称之为对象，对象因此与其他对象不同。”———qianxin</p></blockquote><h2 id="scope">Scope</h2><p>在Python中，名字和对象是绑定起来的，而不是Copy. Python与其他语言最大不同之处在于Python没有private, protected, public,而只有local, nonlocal, global。python中nonlocal的功能是<b>使用外层（而非内部的）变量</b>。 The global statement can be used to indicate that particular variables live in the global scope and should be rebound there; the nonlocal statement indicates that particular variables live in an enclosing scope and should be rebound there. nonlocal为python3特有</p><pre><code class="language-python">def scope_test():
      def do_local():
            spam = &quot;local spam&quot;
      def do_nonlocal():
            //not &quot;local spam&quot;
            nonlocal spam
            spam = &quot;nonlocal spam&quot;
      def do_global():
            global spam
            spam = &quot;global spam&quot;

spam = &quot;test spam&quot;
do_local()
print(&quot;After local assignment:&quot;, spam)
do_nonlocal()
print(&quot;After nonlocal assignment:&quot;, spam)
do_global()
print(&quot;After global assignment:&quot;, spam)
scope_test()
print(&quot;In global scope:&quot;, spam)</code></pre><p>output:</p><pre><code class="language-bash">After local assignment: test spam
After nonlocal assignment: nonlocal spam
After global assignment: nonlocal spam
In global scope: global spam</code></pre><h2 id="class-objects">Class Objects</h2><pre><code class="language-python">class Complex():
      flag = &quot;Complex&quot;
      def __init__(self, realpart, imagpart):
            self.r = realpart
            self.i = imagpart

c = Complex(5.0,3.0)
d = Complex(4.2,1.5)
c.r,c.i
c.flag,d.flag</code></pre><pre><code class="language-bash">(5.0,3.0)
(&#39;Complex&#39;,&#39;Complex&#39;)</code></pre><h1 id="data-structure">Data Structure</h1><h2 id="list">List[]</h2><p>count(),index(),reverse().</p><pre><code class="language-python"> fruits = [&#39;orange&#39;, &#39;apple&#39;, &#39;pear&#39;, &#39;banana&#39;, &#39;kiwi&#39;, &#39;apple&#39;, &#39;banana&#39;]
&gt;&gt;&gt; fruits.count(&#39;apple&#39;)
2
&gt;&gt;&gt; fruits.count(&#39;tangerine&#39;)
0
&gt;&gt;&gt; fruits.index(&#39;banana&#39;)
3
&gt;&gt;&gt; fruits.index(&#39;banana&#39;, 4) # Find next banana starting a position 4
6
&gt;&gt;&gt; fruits.reverse()
&gt;&gt;&gt; fruits
[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;]
&gt;&gt;&gt; fruits.append(&#39;grape&#39;)
&gt;&gt;&gt; fruits
[&#39;banana&#39;, &#39;apple&#39;, &#39;kiwi&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;, &#39;orange&#39;, &#39;grape&#39;]
&gt;&gt;&gt; fruits.sort()
&gt;&gt;&gt; fruits
[&#39;apple&#39;, &#39;apple&#39;, &#39;banana&#39;, &#39;banana&#39;, &#39;grape&#39;, &#39;kiwi&#39;, &#39;orange&#39;, &#39;pear&#39;]
&gt;&gt;&gt; fruits.pop()
&#39;pear&#39;</code></pre><h3 id="liststack">List(Stack)</h3><p>append(), pop()</p><pre><code class="language-python">&gt;&gt;&gt; stack = [3, 4, 5]
&gt;&gt;&gt; stack.append(6)
&gt;&gt;&gt; stack.append(7)
&gt;&gt;&gt; stack
[3, 4, 5, 6, 7]
&gt;&gt;&gt; stack.pop()
7
&gt;&gt;&gt; stack
[3, 4, 5, 6]
&gt;&gt;&gt; stack.pop()
6
&gt;&gt;&gt; stack.pop()
5
&gt;&gt;&gt; stack
[3, 4]</code></pre><h3 id="listqueue">List(Queue)</h3><pre><code class="language-python">&gt;&gt;&gt; from collections import deque
&gt;&gt;&gt; queue = deque([&quot;Eric&quot;, &quot;John&quot;, &quot;Michael&quot;])
&gt;&gt;&gt; queue.append(&quot;Terry&quot;)
 # Terry arrives
&gt;&gt;&gt; queue.append(&quot;Graham&quot;)
 # Graham arrives
&gt;&gt;&gt; queue.popleft()
 # The first to arrive now leaves
&#39;Eric&#39;
&gt;&gt;&gt; queue.popleft()
 # The second to arrive now leaves
&#39;John&#39;
&gt;&gt;&gt; queue
 # Remaining queue in order of arrival
deque([&#39;Michael&#39;, &#39;Terry&#39;, &#39;Graham&#39;])</code></pre><h3 id="listrange-，listcomp，del-statement">List(Range() ，listcomp，del statement)</h3><pre><code class="language-python">for x in [1,2,3]:
        ...
        for y in [3,1,4]:
              ...
              if x != y:
                     (x,y)</code></pre><pre><code class="language-python">&gt;&gt;&gt; [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]</code></pre><pre><code class="language-python">a = [i for i in range(10)]
del a[5:]
a</code></pre><pre><code class="language-bash">[0,1,2,3,4]</code></pre><h2 id="tuplereal-sequence">Tuple(Real Sequence)()</h2><p>广义表数据类型，不限制原子类型</p><pre><code class="language-python">t = 12345, 54321, &#39;hello!&#39;
t
u = t, (1,2,3,4,5)
u
# Error! Imutable! 
# t[0] = 88888

# But can contain mutable objects:
v = ([1,2,3], [4,5,6])
v[0][1] = 88888
v</code></pre><pre><code class="language-bash">(12345, 54321, &#39;hello!&#39;)
((12345, 54321, &#39;hello!&#39;),(1,2,3,4,5))
([1,88888,3],[4,5,6])</code></pre><p>Singleton和Tuple Packing</p><pre><code class="language-python">empty = ()
singleton = &#39;hello&#39;,
len(empty)
len(singleton)
singleton

x,y,z = t
x
y
z</code></pre><pre><code class="language-bash">0
1
(&#39;hello&#39;,)
12345
54321
&#39;hello!&#39;</code></pre><h2 id="set">Set{}</h2><p>A set is an unordered collection with no duplicate elements.</p><p>set(), in()</p><pre><code class="language-python">&gt;&gt;&gt; basket = {&#39;apple&#39;, &#39;orange&#39;, &#39;apple&#39;, &#39;pear&#39;, &#39;orange&#39;, &#39;banana&#39;}
&gt;&gt;&gt; print(basket)
 # show that duplicates have been removed
{&#39;orange&#39;, &#39;banana&#39;, &#39;pear&#39;, &#39;apple&#39;}
&gt;&gt;&gt; &#39;orange&#39; in basket
True
&gt;&gt;&gt; &#39;crabgrass&#39; in basket
False
&gt;&gt;&gt; a = set(&#39;abracadabra&#39;)
&gt;&gt;&gt; b = set(&#39;alacazam&#39;)
&gt;&gt;&gt; a
{&#39;a&#39;, &#39;r&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;}
&gt;&gt;&gt; a - b
 # letters in a but not in b
{&#39;r&#39;, &#39;d&#39;, &#39;b&#39;}
&gt;&gt;&gt; a | b
 # letters in a or b or both
{&#39;a&#39;, &#39;c&#39;, &#39;r&#39;, &#39;d&#39;, &#39;b&#39;, &#39;m&#39;, &#39;z&#39;, &#39;l&#39;}</code></pre><pre><code class="language-python">a = {x for x in &#39;abracadabra&#39; if x not in &#39;abc&#39;}</code></pre><h2 id="dictionariesxy">Dictionaries{x:y}</h2><p>可以给值赋值，不能改键值（Set不能改元素） del statement, in, list()返回List类型, sorted()返回排序后的List</p><pre><code class="language-python">&gt;&gt;&gt; tel = {&#39;jack&#39;: 4098, &#39;sape&#39;: 4139}
&gt;&gt;&gt; tel[&#39;guido&#39;] = 4127
&gt;&gt;&gt; tel
{&#39;jack&#39;: 4098, &#39;sape&#39;: 4139, &#39;guido&#39;: 4127}
&gt;&gt;&gt; tel[&#39;jack&#39;]
4098
&gt;&gt;&gt; del tel[&#39;sape&#39;]
&gt;&gt;&gt; tel[&#39;irv&#39;] = 4127
&gt;&gt;&gt; tel
{&#39;jack&#39;: 4098, &#39;guido&#39;: 4127, &#39;irv&#39;: 4127}
&gt;&gt;&gt; list(tel)
[&#39;jack&#39;, &#39;guido&#39;, &#39;irv&#39;]
&gt;&gt;&gt; sorted(tel)
[&#39;guido&#39;, &#39;irv&#39;, &#39;jack&#39;]
&gt;&gt;&gt; &#39;guido&#39; in tel
True
&gt;&gt;&gt; &#39;jack&#39; not in tel
False</code></pre><pre><code class="language-python">&gt;&gt;&gt; dict([(&#39;sape&#39;, 4139), (&#39;guido&#39;, 4127), (&#39;jack&#39;, 4098)])
{&#39;sape&#39;: 4139, &#39;guido&#39;: 4127, &#39;jack&#39;: 4098}

&gt;&gt;&gt; {x: x**2 for x in (2, 4, 6)}
{2: 4, 4: 16, 6: 36}</code></pre></article></main>